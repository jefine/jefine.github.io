<!DOCTYPE html>
<html>
<head>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport">
    
    <title>查找子串 - Jefine</title>
    <meta charset="utf-8">
    
    <meta name="title" content="查找子串 - Jefine">
    <meta name="description" content="">
    <meta property="og:image" content="/favicon.png">
    <meta property="og:image:width" content="200" />
    <meta property="og:image:height" content="200" />
    
    <link href="https://fonts.loli.net/css2?family=Source+Serif+Pro:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.loli.net/css2?family=Noto+Serif+TC:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Source Serif Pro', 'Source Han Serif TC', 'Noto Serif CJK TC', 'Noto Serif SC', serif;
        }
    </style>
    <link rel="shortcut icon" href="/favicon.png">
    
    <link rel="stylesheet"
        href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/styles/arduino-light.min.css">
    <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@9.17.1/build/highlight.min.js"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    
    
    <link rel="stylesheet" href="/css/style.css">
    <script src="/js/jquery.min.js"></script>
<link rel="alternate" href="/atom.xml" title="Jefine" type="application/atom+xml"><!-- hexo-inject:begin --><!-- hexo-inject:end -->
</head>

<body>
    <!-- hexo-inject:begin --><!-- hexo-inject:end --><header class="header">
    <div class="blog-title">
        <a href="/" class="logo">Jefine</a>
    </div>
    <nav class="navbar">
        <ul class="menu">
            
            
            
            <li class="menu-item">
                
                <a href="/" class="menu-item-link">Home</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/archives" class="menu-item-link">Archives</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/about" class="menu-item-link">About</a>
                
            </li>
            
            
            
            <li class="menu-item">
                
                <a href="/atom.xml" class="menu-item-link">Rss</a>
                
            </li>
            
        </ul>
    </nav>
</header>
    <main class="main">
        <article class="post">
    <div class="post-title">
        <h1 class="title">查找子串</h2>
    </div>
    <div class="post-content">
        <h2 id="6-15-查找子串-20分"><a href="#6-15-查找子串-20分" class="headerlink" title="6-15 查找子串 (20分)"></a>6-15 查找子串 (20分)</h2><p>本题要求实现一个字符串查找的简单函数。</p>
  <a id="more"></a>
<h1 id="函数接口定义："><a href="#函数接口定义：" class="headerlink" title="函数接口定义："></a>函数接口定义：</h1><p>char <em>search( char </em>s, char *t );<br>函数search在字符串s中查找子串t，返回子串t在s中的首地址。若未找到，则返回NULL。</p>
<h1 id="裁判测试程序样例："><a href="#裁判测试程序样例：" class="headerlink" title="裁判测试程序样例："></a>裁判测试程序样例：</h1><pre><code class="hljs c"><span class="hljs-meta">#<span class="hljs-meta-keyword">include</span> <span class="hljs-meta-string">&lt;stdio.h&gt;</span></span>
<span class="hljs-meta">#<span class="hljs-meta-keyword">define</span> MAXS 30</span>

<span class="hljs-function"><span class="hljs-keyword">char</span> *<span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s, <span class="hljs-keyword">char</span> *t)</span></span>;
<span class="hljs-function"><span class="hljs-keyword">void</span> <span class="hljs-title">ReadString</span><span class="hljs-params">( <span class="hljs-keyword">char</span> s[] )</span></span>; <span class="hljs-comment">/* 裁判提供，细节不表 */</span>

<span class="hljs-function"><span class="hljs-keyword">int</span> <span class="hljs-title">main</span><span class="hljs-params">()</span>
</span>&#123;
    <span class="hljs-keyword">char</span> s[MAXS], t[MAXS], *pos;

    ReadString(s);
    ReadString(t);
    pos = search(s, t);
    <span class="hljs-keyword">if</span> ( pos != <span class="hljs-literal">NULL</span> )
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"%d\n"</span>, pos - s);
    <span class="hljs-keyword">else</span>
        <span class="hljs-built_in">printf</span>(<span class="hljs-string">"-1\n"</span>);

    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
&#125;

<span class="hljs-comment">/* 你的代码将被嵌在这里 */</span></code></pre>
<h1 id="输入样例1："><a href="#输入样例1：" class="headerlink" title="输入样例1："></a>输入样例1：</h1><p>The C Programming Language<br>ram </p>
<h1 id="输出样例1："><a href="#输出样例1：" class="headerlink" title="输出样例1："></a>输出样例1：</h1><p>10</p>
<h1 id="输入样例2："><a href="#输入样例2：" class="headerlink" title="输入样例2："></a>输入样例2：</h1><p>The C Programming Language<br>bored</p>
<h1 id="输出样例2："><a href="#输出样例2：" class="headerlink" title="输出样例2："></a>输出样例2：</h1><p>-1</p>
<h1 id="思路："><a href="#思路：" class="headerlink" title="思路："></a>思路：</h1><p>利用循环寻找到第一个相符合的字符，然后去判断是否为子字符串。<br>但此题目不可使用string.h较为麻烦，考验我们更多的是原理部分。</p>
<h1 id="代码如下："><a href="#代码如下：" class="headerlink" title="代码如下："></a>代码如下：</h1><pre><code class="hljs c"><span class="hljs-function"><span class="hljs-keyword">char</span> *<span class="hljs-title">search</span><span class="hljs-params">(<span class="hljs-keyword">char</span> *s, <span class="hljs-keyword">char</span> *t)</span></span>&#123;
	<span class="hljs-keyword">int</span> n,i,j,m;
	<span class="hljs-keyword">int</span> flag = <span class="hljs-number">-1</span>;
	<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;s[i]!=<span class="hljs-string">'\0'</span>;i++)<span class="hljs-comment">//等效n = strlen(s)</span>
	n=i;
	<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;t[i]!=<span class="hljs-string">'\0'</span>;i++)<span class="hljs-comment">//等效m = strlen(t)</span>
	m=i;
	<span class="hljs-keyword">for</span>(i=<span class="hljs-number">0</span>;i&lt;n;i++)&#123;<span class="hljs-comment">//i控制字符串s</span>
		<span class="hljs-keyword">if</span>(t[<span class="hljs-number">0</span>]==s[i])&#123;<span class="hljs-comment">//循环找到第一个相符合的字符</span>
			flag = <span class="hljs-number">1</span>;<span class="hljs-comment">//1代表找到了</span>
		&#125;
		<span class="hljs-keyword">if</span>(flag = <span class="hljs-number">1</span>)&#123;<span class="hljs-comment">//如果找到第一个匹配的字符</span>
			<span class="hljs-keyword">for</span>(j=<span class="hljs-number">1</span>;j&lt;=m;j++)&#123;<span class="hljs-comment">//j控制字符串t</span>
				<span class="hljs-keyword">if</span>(t[j]==s[i+j])&#123;<span class="hljs-comment">//从第二个开始判断（第一个已经判断成功）</span>
					flag =<span class="hljs-number">1</span>;
				&#125;<span class="hljs-keyword">else</span> &#123;
					flag =<span class="hljs-number">-1</span>;<span class="hljs-comment">//判断不成立时</span>
				<span class="hljs-keyword">break</span>;	
				&#125;
			&#125;
			<span class="hljs-keyword">if</span>(flag ==<span class="hljs-number">1</span>)<span class="hljs-keyword">return</span> &amp;s[i];<span class="hljs-comment">//（在匹配成功的情况下）</span>
		&#125;
	&#125;<span class="hljs-keyword">return</span> <span class="hljs-literal">NULL</span>;
&#125;</code></pre>
    </div>
    <div class="post-meta">
        
    <span class="post-time">二〇一九年十二月十二日</span>
    </div>
</article>

<div class="prev_next">
    <nav id="prev_next">

<div class="prev">
    
    <p>Newer</p>
    <a href="/2019/12/21/统计单词数/"><div class="article-nav-title">统计单词数</div></a>
    
</div>
<div class="next">
    
    <p>Older</p>
    <a href="/2019/11/24/pta统计一行文本的单词个数/"><div class="article-nav-title">pta统计一行文本的单词个数</div></a>
    
</div>

</nav>
</div>

<div class="post-comment">
    



</div>

    </main><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</body>

</html>